{"ast":null,"code":"import _toConsumableArray from \"/Users/makahabutahoun/Google-Books-Search/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/makahabutahoun/Google-Books-Search/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/makahabutahoun/Google-Books-Search/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/makahabutahoun/Google-Books-Search/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/makahabutahoun/Google-Books-Search/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/makahabutahoun/Google-Books-Search/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/makahabutahoun/Google-Books-Search/client/src/pages/Search.js\";\nimport React from \"react\";\nimport Form from \"../components/Form\";\nimport Results from \"../components/Results\";\nimport API from \"../utils/API\";\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.handleSearchInput = function (event) {\n      _this.setState({\n        search: event.target.value\n      });\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n      API.searchBooks(_this.state.search).then(function (res) {\n        console.log(res.data.items);\n\n        _this.setState({\n          books: _toConsumableArray(res.data.items)\n        });\n      }).catch(function (err) {\n        return _this.setState({\n          error: err.message\n        });\n      });\n    };\n\n    _this.clickAddBtn = function (event) {\n      event.preventDefault();\n      console.log(\"click\");\n\n      _this.state.books.map(function (book, i) {\n        _this.id = book._id, _this.key = book._id, _this.title = book.volumeInfo.title, _this.authors = book.volumeInfo.authors, _this.description = book.volumeInfo.description, _this.synopsis = book.searchInfo, _this.image = book.volumeInfo.imageLinks;\n      });\n\n      Object.keys(_this.synopsis).forEach(function (key) {\n        var sKey = _this.synopsis[key];\n        var iKey = _this.image[key];\n        console.log(sKey, iKey);\n      });\n      console.log(_this.title, _this.authors, _this.description, _this.synopsis, _this.image);\n    };\n\n    _this.handleSaveBook = function (event) {\n      event.preventDefault();\n      console.log(\"click\");\n\n      _this.state.books.map(function (book, i) {\n        _this.id = book._id, _this.key = book._id, _this.title = book.volumeInfo.title, _this.authors = book.volumeInfo.authors, _this.description = book.volumeInfo.description, _this.synopsis = book.searchInfo, _this.image = book.volumeInfo.imageLinks;\n      });\n\n      console.log(_this.title, _this.authors, _this.description, _this.synopsis, _this.image);\n      API.saveBook({\n        title: _this.title,\n        authors: _this.authors,\n        description: _this.description,\n        synopsis: _this.synopsis,\n        image: _this.image,\n        link: _this.link\n      }).then(function (res) {\n        return alert(\"Book has been added to your bookshelf!\");\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.state = {\n      search: \"\",\n      books: [],\n      title: \"\",\n      authors: [],\n      description: [],\n      synopsis: '',\n      image: \"\",\n      link: \"\"\n    };\n    _this.handleSaveBook = _this.handleSaveBook.bind(BookCard);\n    return _this;\n  } // When the component mounts, get a list of all available books\n  // handle search input term\n\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Wrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Container, {\n        style: {\n          minHeight: \"80%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        id: \"pageTitle\",\n        variant: \"h4\",\n        component: \"h3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Search for a book!\"), React.createElement(SearchForm, {\n        handleSearchInput: this.handleSearchInput,\n        handleFormSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(SearchResults, {\n        books: this.state.books,\n        onClick: this.handleSaveBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/Users/makahabutahoun/Google-Books-Search/client/src/pages/Search.js"],"names":["React","Form","Results","API","Search","props","handleSearchInput","event","setState","search","target","value","handleFormSubmit","preventDefault","searchBooks","state","then","res","console","log","data","items","books","catch","err","error","message","clickAddBtn","map","book","i","id","_id","key","title","volumeInfo","authors","description","synopsis","searchInfo","image","imageLinks","Object","keys","forEach","sKey","iKey","handleSaveBook","saveBook","link","alert","bind","BookCard","minHeight","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,GAAP,MAAgB,cAAhB;;IAEMC,M;;;;;AACF,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;;AADiB,UAiBnBC,iBAjBmB,GAiBC,UAAAC,KAAK,EAAI;AAC3B,YAAKC,QAAL,CAAc;AAAEC,QAAAA,MAAM,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAAvB,OAAd;AACD,KAnBkB;;AAAA,UAqBnBC,gBArBmB,GAqBA,UAAAL,KAAK,EAAI;AAC1BA,MAAAA,KAAK,CAACM,cAAN;AACAV,MAAAA,GAAG,CAACW,WAAJ,CAAgB,MAAKC,KAAL,CAAWN,MAA3B,EACGO,IADH,CACQ,UAAAC,GAAG,EAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,KAArB;;AACA,cAAKb,QAAL,CAAc;AAAEc,UAAAA,KAAK,qBAAML,GAAG,CAACG,IAAJ,CAASC,KAAf;AAAP,SAAd;AACD,OAJH,EAKGE,KALH,CAKS,UAAAC,GAAG;AAAA,eAAI,MAAKhB,QAAL,CAAc;AAAEiB,UAAAA,KAAK,EAAED,GAAG,CAACE;AAAb,SAAd,CAAJ;AAAA,OALZ;AAMD,KA7BkB;;AAAA,UA8BnBC,WA9BmB,GA8BL,UAACpB,KAAD,EAAW;AACvBA,MAAAA,KAAK,CAACM,cAAN;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AACA,YAAKJ,KAAL,CAAWO,KAAX,CAAiBM,GAAjB,CAAqB,UAACC,IAAD,EAAOC,CAAP,EAAa;AAChC,cAAKC,EAAL,GAAUF,IAAI,CAACG,GAAf,EACA,MAAKC,GAAL,GAAWJ,IAAI,CAACG,GADhB,EAEA,MAAKE,KAAL,GAAaL,IAAI,CAACM,UAAL,CAAgBD,KAF7B,EAGA,MAAKE,OAAL,GAAeP,IAAI,CAACM,UAAL,CAAgBC,OAH/B,EAIA,MAAKC,WAAL,GAAmBR,IAAI,CAACM,UAAL,CAAgBE,WAJnC,EAKA,MAAKC,QAAL,GAAgBT,IAAI,CAACU,UALrB,EAMA,MAAKC,KAAL,GAAaX,IAAI,CAACM,UAAL,CAAgBM,UAN7B;AAOD,OARD;;AASAC,MAAAA,MAAM,CAACC,IAAP,CAAY,MAAKL,QAAjB,EAA2BM,OAA3B,CAAmC,UAACX,GAAD,EAAS;AAC1C,YAAIY,IAAI,GAAG,MAAKP,QAAL,CAAcL,GAAd,CAAX;AACA,YAAIa,IAAI,GAAG,MAAKN,KAAL,CAAWP,GAAX,CAAX;AACAf,QAAAA,OAAO,CAACC,GAAR,CAAY0B,IAAZ,EAAkBC,IAAlB;AACD,OAJD;AAMA5B,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKe,KAAjB,EAAwB,MAAKE,OAA7B,EAAsC,MAAKC,WAA3C,EAAwD,MAAKC,QAA7D,EAAuE,MAAKE,KAA5E;AACD,KAjDkB;;AAAA,UAmDnBO,cAnDmB,GAmDF,UAAAxC,KAAK,EAAI;AACxBA,MAAAA,KAAK,CAACM,cAAN;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AACA,YAAKJ,KAAL,CAAWO,KAAX,CAAiBM,GAAjB,CAAqB,UAACC,IAAD,EAAOC,CAAP,EAAa;AAChC,cAAKC,EAAL,GAAUF,IAAI,CAACG,GAAf,EACA,MAAKC,GAAL,GAAWJ,IAAI,CAACG,GADhB,EAEA,MAAKE,KAAL,GAAaL,IAAI,CAACM,UAAL,CAAgBD,KAF7B,EAGA,MAAKE,OAAL,GAAeP,IAAI,CAACM,UAAL,CAAgBC,OAH/B,EAIA,MAAKC,WAAL,GAAmBR,IAAI,CAACM,UAAL,CAAgBE,WAJnC,EAKA,MAAKC,QAAL,GAAgBT,IAAI,CAACU,UALrB,EAMA,MAAKC,KAAL,GAAaX,IAAI,CAACM,UAAL,CAAgBM,UAN7B;AAOD,OARD;;AASAvB,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKe,KAAjB,EAAwB,MAAKE,OAA7B,EAAsC,MAAKC,WAA3C,EAAwD,MAAKC,QAA7D,EAAuE,MAAKE,KAA5E;AACArC,MAAAA,GAAG,CAAC6C,QAAJ,CAAa;AACXd,QAAAA,KAAK,EAAE,MAAKA,KADD;AAEXE,QAAAA,OAAO,EAAE,MAAKA,OAFH;AAGXC,QAAAA,WAAW,EAAE,MAAKA,WAHP;AAIXC,QAAAA,QAAQ,EAAE,MAAKA,QAJJ;AAKXE,QAAAA,KAAK,EAAE,MAAKA,KALD;AAMXS,QAAAA,IAAI,EAAE,MAAKA;AANA,OAAb,EAQGjC,IARH,CAQQ,UAAAC,GAAG;AAAA,eAAIiC,KAAK,CAAC,wCAAD,CAAT;AAAA,OARX,EASG3B,KATH,CASS,UAAAC,GAAG;AAAA,eAAIN,OAAO,CAACC,GAAR,CAAYK,GAAZ,CAAJ;AAAA,OATZ;AAUD,KA1EkB;;AAEjB,UAAKT,KAAL,GAAa;AACXN,MAAAA,MAAM,EAAE,EADG;AAEXa,MAAAA,KAAK,EAAE,EAFI;AAGXY,MAAAA,KAAK,EAAE,EAHI;AAIXE,MAAAA,OAAO,EAAC,EAJG;AAKXC,MAAAA,WAAW,EAAC,EALD;AAMXC,MAAAA,QAAQ,EAAE,EANC;AAOXE,MAAAA,KAAK,EAAC,EAPK;AAQXS,MAAAA,IAAI,EAAC;AARM,KAAb;AAUA,UAAKF,cAAL,GAAsB,MAAKA,cAAL,CAAoBI,IAApB,CAAyBC,QAAzB,CAAtB;AAZiB;AAalB,G,CACD;AAEA;;;;;6BA2DS;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACF,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAE;AAAb,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,EAAE,EAAC,WAAf;AAA2B,QAAA,OAAO,EAAC,IAAnC;AAAwC,QAAA,SAAS,EAAC,IAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAKE,oBAAC,UAAD;AACE,QAAA,iBAAiB,EAAE,KAAK/C,iBAD1B;AAEE,QAAA,gBAAgB,EAAE,KAAKM,gBAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF,EAYE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,aAAD;AACE,QAAA,KAAK,EAAE,KAAKG,KAAL,CAAWO,KADpB;AAEE,QAAA,OAAO,EAAE,KAAKyB,cAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAZF,CADE,CADJ,CADF;AAyBD;;;;EAtGgBO,S;;AAyGnB,eAAelD,MAAf","sourcesContent":["import React from \"react\";\nimport Form from \"../components/Form\";\nimport Results from \"../components/Results\";\nimport API from \"../utils/API\";\n\nclass Search extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        search: \"\",\n        books: [],\n        title: \"\",\n        authors:[],\n        description:[],\n        synopsis: '',\n        image:\"\",\n        link:\"\"\n      };\n      this.handleSaveBook = this.handleSaveBook.bind(BookCard);\n    }\n    // When the component mounts, get a list of all available books\n      \n    // handle search input term\n    handleSearchInput = event => {\n      this.setState({ search: event.target.value });\n    };\n    // on form sumbit -> search for books\n    handleFormSubmit = event => {\n      event.preventDefault();\n      API.searchBooks(this.state.search)\n        .then(res => {\n          console.log(res.data.items);\n          this.setState({ books: [...res.data.items] });\n        })\n        .catch(err => this.setState({ error: err.message }));\n    };\n    clickAddBtn = (event) => {\n      event.preventDefault();\n      console.log(\"click\");\n      this.state.books.map((book, i) => {\n        this.id = book._id,\n        this.key = book._id,\n        this.title = book.volumeInfo.title,\n        this.authors = book.volumeInfo.authors,\n        this.description = book.volumeInfo.description,\n        this.synopsis = book.searchInfo,\n        this.image = book.volumeInfo.imageLinks\n      })\n      Object.keys(this.synopsis).forEach((key) => {\n        let sKey = this.synopsis[key];\n        let iKey = this.image[key];\n        console.log(sKey, iKey);\n      }) \n      \n      console.log(this.title, this.authors, this.description, this.synopsis, this.image);\n    }\n    // // Save book\n    handleSaveBook = event => {\n      event.preventDefault();\n      console.log(\"click\");\n      this.state.books.map((book, i) => {\n        this.id = book._id,\n        this.key = book._id,\n        this.title = book.volumeInfo.title,\n        this.authors = book.volumeInfo.authors,\n        this.description = book.volumeInfo.description,\n        this.synopsis = book.searchInfo,\n        this.image = book.volumeInfo.imageLinks\n      })\n      console.log(this.title, this.authors, this.description, this.synopsis, this.image);\n      API.saveBook({\n        title: this.title,\n        authors: this.authors,\n        description: this.description,\n        synopsis: this.synopsis,\n        image: this.image,\n        link: this.link\n      })\n        .then(res => alert(\"Book has been added to your bookshelf!\"))\n        .catch(err => console.log(err));\n    };\n    render() {\n      return (\n        <div>\n            <Form>\n          <Wrapper>\n            <Container style={{ minHeight: \"80%\" }}>\n              <Typography id=\"pageTitle\" variant=\"h4\" component=\"h3\">\n                Search for a book!\n              </Typography>\n  \n              <SearchForm\n                handleSearchInput={this.handleSearchInput}\n                handleFormSubmit={this.handleFormSubmit}\n              />\n            </Container>\n  \n            <Container>\n              <SearchResults \n                books={this.state.books}\n                onClick={this.handleSaveBook}\n              />\n            </Container>\n          </Wrapper>\n          </Form>\n        </div>\n      );\n    }\n  }\n  \n  export default Search;\n  "]},"metadata":{},"sourceType":"module"}